{% extends 'layout.html' %}
{% block content %}
  <div class="row justify-content-center">
    <div class="col-lg-8 col-md-10">
      <div class="card text-center">
        <div class="card-body">
          <div class="success-illustration mx-auto mb-3 success-check"><i class="bi bi-check-lg"></i></div>
          <h3 class="card-title" style="animation: slideInLeft 0.6s ease-out 0.2s both;">Report Submitted</h3>
          <p class="muted-small" style="animation: slideInLeft 0.6s ease-out 0.3s both;">Thanks â€” your report has been recorded and queued for review.</p>

          <div class="mt-4">
            <p class="mb-1"><strong>Report ID:</strong> <span class="text-muted">{{ complaint_id }}</span></p>
            <p class="mb-1"><strong>Access Code:</strong> <code>{{ access_code }}</code></p>
            <p class="small text-muted">Keep the access code to check the report status or update details later.</p>
          </div>

          <div class="d-flex justify-content-center gap-2 mt-4 flex-wrap">
            <a class="btn btn-outline-secondary" href="{{ url_for('submit') }}"><i class="bi bi-plus-circle me-1"></i>Submit another</a>
            <a class="btn btn-primary" href="{{ url_for('track_complaint') }}"><i class="bi bi-search me-1"></i>Track Status</a>
            <a class="btn btn-outline-primary" href="{{ url_for('admin_login') }}"><i class="bi bi-shield-lock me-1"></i>Admin</a>
          </div>
          
          <div class="alert alert-info mt-4" role="alert">
            <i class="bi bi-lightbulb me-2"></i>
            <strong>Tip:</strong> Save your access code (<code>{{ access_code }}</code>) to track your complaint status later. 
            You can use it on the <a href="{{ url_for('track_complaint') }}" class="alert-link">Track Complaint</a> page.
          </div>
        </div>
      </div>
    </div>
  </div>
  <script>
    // Run a small confetti burst on the success page to celebrate submission
    (function(){
      try{
        if (typeof confetti === 'function'){
          // run a gentle sequence
          confetti({ particleCount: 90, spread: 55, origin: { y: 0.6 } });
          setTimeout(()=>confetti({ particleCount: 50, spread: 70, scalar: 0.8, origin: { y: 0.6 }}), 250);
        }
      }catch(e){/* ignore */}
    })();
  </script>
{% endblock %}
